"""
2단계: 텍스트 출력 함수들
학습 목표: 다양한 방식으로 텍스트 출력하기
"""

import streamlit as st

# ============================================
# 1. 제목과 헤더
# ============================================
st.title("📝 텍스트 출력 함수 배우기")
st.header("1. 제목과 헤더")
st.subheader("이것은 소제목입니다")

#""" 세개를 이용할 시 줄 간격을 유지하면서 사용 가능함. \n 
# \n하면 띄우겠다는 말
st.write("""
Streamlit은 다양한 방식으로 텍스트를 출력할 수 있습니다. \n
각 함수의 용도를 이해하고 적절히 사용하는 것이 중요합니다.
""")

# ============================================
# 2. 일반 텍스트
# ============================================
st.divider()
st.header("2. 일반 텍스트")

st.text("이것은 st.text() 함수입니다.")
st.write("이것은 st.write() 함수입니다. - 가장 많이 사용됩니다!")

# st.write는 마크다운도 지원합니다. 가장많이 사용!
st.write("**굵은 글씨**, *기울임*, ~~취소선~~")

# ============================================
# 3. 마크다운
# ============================================
st.divider()
st.header("3. 마크다운")

st.markdown("""
### 마크다운으로 작성한 소제목

마크다운을 사용하면 더 풍부한 서식을 사용할 수 있습니다:
- **굵은 글씨**
- *기울임*
- `코드 강조`
- [링크](https://streamlit.io)

#### 리스트
1. 첫 번째
2. 두 번째
3. 세 번째
""")

# ============================================
# 4. 코드 블록
# ============================================
st.divider()
st.header("4. 코드 블록")

st.code("""
def hello():
    print("Hello, Streamlit!")
    return "안녕하세요"
""", language="python")

# 다른 언어도 가능합니다
st.code("""
SELECT * FROM users
WHERE age > 20
ORDER BY name;
""", language="sql")

# ============================================
# 5. 수식 (LaTeX)
# ============================================
st.divider()
st.header("5. 수식")

st.latex(r"""
E = mc^2
""")

st.latex(r"""
\sum_{i=1}^{n} x_i = x_1 + x_2 + ... + x_n
""")

# ============================================
# 6. 상태 메시지
# ============================================
st.divider()
st.header("6. 상태 메시지")

st.success("✅ 성공 메시지 - 작업이 성공적으로 완료되었습니다!")
st.info("ℹ️ 정보 메시지 - 유용한 정보를 제공합니다.")
st.warning("⚠️ 경고 메시지 - 주의가 필요합니다.")
st.error("❌ 에러 메시지 - 문제가 발생했습니다.")

# ============================================
# 7. 기타 유용한 함수
# ============================================
st.divider()
st.header("7. 기타 유용한 함수")

st.caption("이것은 작은 설명 텍스트입니다 (캡션)")

# 인용문
st.markdown("> 누구나 코딩을 할 수 있다. - 박태근")

# 인터넷상 이미지
st.caption("인터넷상 이미지 표시")
st.image("https://th.bing.com/th/id/OIP.8BadJdXBCTVXgTCY_pYJswHaEc?w=269&h=180&c=7&r=0&o=7&pid=1.7&rm=3",use_container_width=True)

# 이미지 사이즈를 화면에 맞추고싶다면? 강제로 늘릴 수 있음
st.image("https://placehold.co/300x300")
# st.image("https://placehold.co/300x300", use_container_width=True)

# 로컬 이미지
st.caption("내 컴퓨터의 이미지 표시")
st.image('image/sample1.jpg')

# ============================================
# 실습 과제
# ============================================
st.divider()
st.header("📝 실습 과제")

st.markdown("""
### 과제: 뉴스 기사 만들기

다음 요소들을 포함한 가상의 뉴스 기사를 만들어보세요:
1. `st.title()`로 기사 제목
2. `st.caption()`으로 작성자와 날짜
3. `st.image()`로 이미지 (URL 사용 가능)
4. `st.markdown()`으로 본문 내용
5. `st.info()`로 관련 정보 박스
6. `st.code()`로 코드나 데이터 예시
""")

# 예시 답안 (접어두기)
with st.expander("💡 예시 답안 보기"):
    st.title("🚀 AI 기술의 새로운 돌파구")
    st.caption("작성자: 홍길동 | 2026-01-15")
    
    st.image("https://placehold.co/600x400", caption="AI 연구소")
    
    st.markdown("""
    최근 연구진이 새로운 AI 알고리즘을 개발했다고 발표했습니다.
    
    이 기술은 기존 방식보다 **50% 더 빠른** 처리 속도를 보여줍니다.
    """)
    
    st.info("이 기술은 2027년 상용화될 예정입니다.")

import streamlit as st

# 1. 기사 제목
st.title("“블랙리스트 구속, 의료 현장에 파문…대화는 없고 압박만 남았다”")

# 2. 작성자와 날짜
st.caption("작성자: AI 뉴스데스크  |  2024-09-22")

# 3. 이미지 (URL 사용 가능)
st.image(
    "https://img.yna.co.kr/etc/inner/KR/2024/09/21/AKR20240921047900530_01_i_P4.jpg",
    caption="구속된 전공의와 서울시의사회, 정부 조치에 강한 반발 (자료사진)"
)

# 4. 본문 내용
st.markdown(
"""
서울시의사회가 의료계 이른바 ‘블랙리스트’를 작성한 전공의의 구속 결정에 대해
“참담함을 금치 못하겠다”며 강력히 반발하고 나섰습니다.  
의료계 내부 갈등이 형사 처벌 국면으로 번지면서, 이미 예민해진 의료 현장은
또 다른 충격에 휩싸였습니다.

서울시의사회는 21일 성명을 내고, 복귀 전공의와 의대생 명단을 SNS에 게시했다가
구속된 사직 전공의에 대해 **“전형적인 본보기식 구속”**이라고 규정했습니다.
정부가 의료계 집단행동을 둘러싼 갈등을 대화가 아닌 **‘공안 정국식 대응’**으로
풀고 있다는 비판입니다.

의사회는 특히, 정부가 6개월 이상 전공의 사직 금지, 의대생 휴학 금지 등
**“초법적 조치”**를 밀어붙인 결과가 지금의 사태라고 주장하고 있습니다.
잘잘못을 떠나, 과도한 행정력과 공권력 동원이 현장의 분노를 키우고 있다는 취지입니다.

의료계 일각에서는 이번 블랙리스트 사태를  
정부가 만든 구조적 갈등의 ‘폭발 지점’으로 보고 있습니다.  
의료계 집단행동에 참여하지 않거나 복귀한 의사들을 향한 낙인과 압박이
SNS와 메신저를 통해 조직적으로 확산되면서,  
**의사들 사이의 신뢰가 크게 훼손됐다**는 지적도 나옵니다.

의협 임현택 회장은 구속된 전공의를 면회한 뒤  
“구속된 전공의와 리스트에 올라 피해를 입은 이들 모두가
정부가 만든 피해자”라며  
“정부가 의사들 사이를 다 결딴내고 있다”고 비판했습니다.

반면 정부는 강경 기조를 유지하고 있습니다.  
복귀 의사와 의대생을 겨냥한 온라인 괴롭힘과 신상공개,  
이른바 ‘블랙리스트 작성 행위’를  
**환자 진료 차질과 의료 불신을 키우는 중대한 위법 행위**로 보고,
법과 원칙에 따라 대응하겠다는 입장입니다.

전문가들은 이번 사태가 단순한 형사 사건을 넘어  
▲의사-의사 간 갈등, ▲정부와 의료계 간 불신, ▲의료 공백에 대한 국민 불안이  
한꺼번에 얽힌 **복합 위기**라고 평가합니다.  
특히 전공의와 의대생 등 젊은 의료 인력들이
양극단의 압박 속에서 ‘침묵의 이탈’을 택할 경우,  
중장기적인 의료 인력 공백이 현실화될 수 있다는 우려도 큽니다.

서울시의사회는  
“정부는 앞에서는 대화를 청하면서 뒤로는 검경을 통해 겁박하고 있다”며  
더 이상의 사직 전공의 탄압을 멈추고,  
**실질적인 대화와 사태 해결의 로드맵**을 내놓을 것을 촉구했습니다.

갈등의 불씨가 형사처벌로 옮겨 붙은 가운데,  
정부와 의료계가 어느 지점에서 타협점을 찾을지,
그리고 그 과정에서 또 얼마나 많은 의료 현장의 피로가 누적될지  
우려의 시선이 쏠리고 있습니다.
"""
)

# 5. 관련 정보 박스
st.info(
"""
### 관련 정보: ‘의료계 블랙리스트’ 논란은?

- **쟁점**  
  - 집단행동에 참여하지 않거나 복귀한 의료진·의대생 명단을  
    온라인에 공유·압박한 행위가 **표현의 자유인지, 범죄인지**가 핵심 쟁점입니다.
  - 피해 당사자들은 ‘온라인 스토킹·괴롭힘’으로 인한  
    정신적 피해와 진료 현장의 불안감을 호소하고 있습니다.

- **법적 쟁점**  
  - 스토킹처벌법, 정보통신망법(명예훼손·모욕), 개인정보보호법 위반 여부가
    수사·재판에서 주요하게 다뤄질 전망입니다.
  - 이번 구속은 향후 의료계 내부 갈등이 형사 사건으로 비화하는 데 있어
    **중요한 선례**가 될 수 있습니다.

- **향후 전망**  
  - 비슷한 형태의 ‘온라인 리스트’ 작성을 둘러싼 수사가  
    확대될 가능성이 제기되고 있습니다.
  - 정부-의료계 간 **포괄적 합의와 재발방지 장치** 마련 없이는
    갈등이 장기화될 수 있다는 우려가 큽니다.
"""
)

# 6. 코드나 데이터 예시
st.code(
"""
import pandas as pd

# 가상의 '의료 갈등 지표' 데이터
data = {
    "연도": [2021, 2022, 2023, 2024],
    "전공의 이탈 지수(가상)": [15, 22, 35, 58],
    "정부-의료계 갈등 지수(가상)": [40, 55, 70, 90],
    "국민 의료불안 체감도(가상)": [30, 42, 60, 78],
}

df = pd.DataFrame(data)

print("최근 4년간 의료 갈등 관련 지표(가상 데이터)")
print(df)

# 분석 아이디어
# 1) 전공의 이탈 지수와 갈등 지수의 상관관계를 계산
corr = df["전공의 이탈 지수(가상)"].corr(df["정부-의료계 갈등 지수(가상)"])
print(f"전공의 이탈과 갈등 지수 상관계수: {corr:.2f}")

# 2) 갈등 지수가 80을 넘으면 '위기 경보'로 표시
df["위기 경보"] = df["정부-의료계 갈등 지수(가상)"].apply(
    lambda x: "주의" if x < 80 else "심각"
)
print("\\n위기 경보 상태:")
print(df[["연도", "정부-의료계 갈등 지수(가상)", "위기 경보"]])
""",
language="python"
)
